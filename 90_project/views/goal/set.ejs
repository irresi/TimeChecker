<!DOCTYPE html>
<html lang="en">
<%- include("../header"); -%>

<body>

  <%- include("../menu"); -%>
  <%- include("../style"); -%>
  <!-- #E5FBFF -->
  <div class="container-fluid" >
      <div class="container vh-100" >
        <div class="row" style="padding-top: 10%;">
          <div class="col">
              <div class="form-group">
                <label for="Textarea1">메모하기</label>
                <p></p>
                <textarea class="form-control1" id="Textarea1" rows="10" style="width:100%; font-size:larger"><%=result.str%></textarea>
              </div>
              
          </div>
        </div>
        
        <p>&nbsp;</p>
        <div class="row">
          <button type="submit" class="btn btn-outline-info btn-rounded waves-effect"
          onclick='goalpost();'
          >저장
          </button>
        </div>
        </div>
        
      </div>
    <!-- 목록 -->
  </div>
  <%- include("../footer"); %>


  <script>
    
    function goalpost(){
        console.log("submit");
        event.preventDefault();
        // 등록
        const str = $('textarea#Textarea1').val();
        console.log(str);
        $.ajax({
          url:"/api/goal/",
          type:"POST",
          data: {str},
        }).done(()=>{
          location.href="/api/goal";
        }).fail((request, status, error)=>{
          alert(request.responseText);
        });
    }
  </script>
</body>

</html>